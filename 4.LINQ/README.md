# Реализация LINQ

*2 балла*

## Задача

Требуется реализовать аналог LINQ (method-based query варианта) на своём любимом языке программирования.

Нужно уметь поддерживать следующий набор операций:
- `Select` – применение некоторой операции к каждому элементу последовательности;
- `Flatten` – выпрямление последовательности последовательностей в плоскую последовательность;
- `Where` – фильтрация последовательности по некоторому предикату;
- `Take` – взять первые k элементов из последовательности;
- `GroupBy` – сгруппировать элементы по заданному ключу. В результате должна получиться последовательность пар <ключ, последовательность соответствующих этому ключу элементов>. Аналогично обычному LINQ ключом может быть функция от элементов;
- `OrderBy` – отсортировать элементы по заданному ключу – функции от элементов;
- `ToList` – положить все элементы последовательности в список.

Разрешается дополнять этот список своими операциями при условии, что они имеют аналоги в реальном LINQ.

## Демонстрация

Требуется реализовать пару задач с помощью своего LINQ’а:
1. Реализовать бесконечный поток чисел Фибоначчи, выбрать из них только делящиеся на 3, возвести в квадрат каждое четное и взять первые пять полученных чисел.
2. Реализовать Word Count для некоторого текстового файла. Нужно разбить строки файла по пробелу и для каждого полученного токена посчитать число его появлений в данном файле. Токены и их частоты должны быть выведены отсортированными по частоте.


### Замечание
Ваша реализация должна быть ленивой: например, в первой задаче не нужно генерировать бесконечное количество чисел Фибоначчи, а только потом их фильтровать. Сгенерировано должно быть лишь минимально необходимое их количество – это стоит продемонстрировать явно, например, выводя на экран число при его генерации.

Кроме этого, обе задачи должны быть решены единой цепочкой запросов. Какие-то сложные операции – например, генерация следующего числа Фибоначчи или чтение следующей строки из файла – можно вынести в отдельную функцию, которая будет вызываться из какой-то операции вашего LINQ API.

## Пример программы

```py
print(Range(range(10))
          >> Where(lambda x : x % 2 == 0)
          >> Select(lambda x : x ** 2)
          >> Take(2)
          >> ToList())
```

Пример возможного синтаксиса для вашего LINQ. Класс Range здесь – обертка над стандартными python-классами для включения возможности использования LINQ.

Данная программа должна вывести на экран
```
[0, 4]
```

## Оценка
*1 балл* - функциональность, достаточная для выполнения первой задачи  
или  
*2 балла* – за реализацию обеих задач.
